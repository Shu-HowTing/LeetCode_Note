## 面试常见概率题

### 组合计数

> 从一副52张扑克牌中(不含大小王)随机抽两张，**颜色**相等的概率

$$
p = \frac{C_2^1 \times C_{26}^2}{C_{52}^2} = \frac{2 \times 26 \times 25}{52 \times 51}=\frac{25}{51}
$$

> 从一副52张扑克牌中随机抽两张，**花色**相等的概率

$$
p = \frac{C_4^1 \times C_{13}^2}{C_{52}^2}
$$

> 54张牌，分成9份，每份6张牌，大小王在一起的概率

$$
p = \frac{5}{53}
$$

思考：

其实可以把随机分布看成一个环(1~54)，总能把大王转到第一张。那么在头6张里5张有小王的可能；除了第一张大王，剩下53张都有小王可能。

<img src="https://markdown-1258220306.cos.ap-shenzhen-fsi.myqcloud.com/img/prob.png" alt="image-20210821183949590" style="zoom:50%;" />

> 52张牌去掉大小王，分成26*2两堆，从其中一堆取4张牌为4个a的概率

**注意** 不是问四张A在一堆的概率，而是能够抽到4张A的概率

首先计算4个A在一堆的概率, 可以参考上一题大小王在一起的概率：

$$
p_1 = \frac{C_{25}^3}{C_{51}^3}
$$

下面计算抽到4个A的概率：

$$
p = \frac{1}{2} \times \frac{1}{C_{26}^4} \times p_1
$$

### 贝叶斯

**贝叶斯公式**

$$
P(A/B) = \frac{p(AB)}{p(B)} = \frac{P(B/A)P(A)}{P(B)}
$$

> 有8个箱子，现在有一封信，这封信放在这8个箱子中（任意一个）的概率为4/5,不放的概率为1/5（比如忘记了）,现在我打开1号箱子发现是空的，求下面7个箱子中含有这封信的概率为？

$$
A: 1号箱子为空 \\
B: 剩下的7个箱子有信封 \\ 
P(A) = \frac{4}{5} \times \frac{7}{8} + \frac{1}{5} \\
P(AB) = \frac{4}{5} \times \frac{7}{8} \\
P(B/A) = \frac{P(AB)}{P(A)} = \frac{7}{9}
$$

> 已知N枚真硬币，M枚假硬币（两面都是国徽），R次重复采样都是国徽，问真硬币的概率？

$$
A: 硬币是真币 \\
B: R次重复采样都是国徽 \\
P(A) = \frac{N}{M+N} \\
P(B) = \frac{N}{M+N} \times \frac{1}{2^R} + \frac{M}{M+N} \\
P(AB) = \frac{N}{M+N} \times \frac{1}{2^R} \\
P(A/B) = \frac{P(AB)}{P(B)} = \frac{N} {N + 2^R  M}
$$

### 几何分布

> 一个国家重男轻女，只要生了女孩就继续生，直到生出男孩为止，问这个国家的男女比例？

先看一个问题，每个家庭孩子数的期望是多少？

等价于，一枚均匀的硬币，一直抛，抛到正面才会停止，求平均抛几次？(2次)

$$
E = \frac{k}{p} \\
p = 1/2 \ \ \ k = 1
$$

所以平均每个家庭2个孩子。那么第二个肯定是男孩，第一个是女孩。所以男女比例是

$1:1$

> 一枚均匀的硬币，一直抛，抛到2次正面才会停止，求抛的次数的数学期望

$$
E = 2k = 4
$$

> 一枚均匀的硬币，一直抛，连续2次抛到正面才会停止，求抛的次数的数学期望

答：6次
$$
E = 2^{k-1}(2+\frac{1}{p})-2 

p = 1/2 ==> E=2^{k+1}-2
$$

### 数学期望

**离散型：**
$$
E = \sum_{i=1}^N x_i p(x_i)
$$
**连续型**
$$
\int_{a}^{b} xf(x)dx 
$$

> 单位圆内随机选取一点求，求点到圆心距离的期望

先来计算距离的概率分布函数和概率密度函数：
$$
F(x) = P(X<x) = \frac{\pi x^2}{\pi r^2} = x^2

f(x) =   \frac{\partial F}{\partial x} = 2x

E = \int_0^1 {xf(x)}dx = \int_0^1{2x^2}dx = 2/3
$$

### 智力

> 100人坐飞机，第一个乘客在座位中随便选一个坐下，第100人正确坐到自己坐位的概率是？

$$
p = 1 / 2
$$

**参考：**[疯子问题](https://www.zhihu.com/question/35950050/answer/65272204)

>  一个圆，在圆上随机取3个点，这3个点组成锐角三角形的概率。

$$
p = 1 / 4
$$

**等价于圆心在三角形内部的概率** == >**等价于圆上随机选取两点$P_1P_2$的弧长的期望值**
$$
\overset{\frown} {p_1p_2} 服从均匀分布U(a,b), a = 0, b = \pi r
\\
E(\overset{\frown}{p_1p_2}) = \frac{a+b}{2} = \frac {\pi r}{2} \\
p =  \frac {\pi r /2 } {2 \pi r} = 1/4
$$
<img src="https://markdown-1258220306.cos.ap-shenzhen-fsi.myqcloud.com/img/prob1.jpg" alt="img" style="zoom:50%;" />
